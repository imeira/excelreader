<app-breadcrumb page="acordo"></app-breadcrumb>
<div class="component-container">
  <div class="acordo-container">
    <h2>Cadastro de Acordo</h2>
    <p>Cadastre os clientes com nome completo, telefone de contato e CPF</p>

    <form [formGroup]="formularioAtuacao" (ngSubmit)="onSubmit()">
      <div class="voxel-row">
        <voxel-form-field class="acordo-container__input voxel-col-4" label="nome" description="digite o nome completo" msgErr="preenchimento de nome é obrigatório">
          <input voxelInput formControlName="nome" autocomplete="off">
        </voxel-form-field>
        <voxel-form-field class="acordo-container__input voxel-col-4" label="telefone" description="digite o telefone com DDD" msgErr="preenchimento de telefone é obrigatório">
          <input voxelInput voxelMask="(99) 99999-9999" guide formControlName="telefone">
        </voxel-form-field>
        <voxel-form-field class="acordo-container__input voxel-col-4" label="CPF" description="digite só os números" msgErr="preenchimento de CPF é obrigatório">
          <input voxelInput voxelMask="999.999.999-99" guide formControlName="cpf">
        </voxel-form-field>
      </div>
      <div class="button-container">
        <voxel-button buttonType="submit" [disabledButton]="formularioAtuacao.invalid" [buttonLabel]="buttonLabel"></voxel-button>
      </div>
    </form>

    <div *ngIf="(clientes$ | async)?.length > 0">
      <hr>
      <h3>Lista de Clientes</h3>
      <table class="voxel-table" summary="Tabela de Clientes">
        <thead>
          <tr>
            <th>nome</th>
            <th>telefone</th>
            <th>CPF</th>
            <th>editar/excluir</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of clientes$ | async">
            <td>{{ item.nome }}</td>
            <td>{{ item.telefone }}</td>
            <td>{{ item.cpf }}</td>
            <td>
              <div class="acordo-container__edit-column">
                <voxel-link (click)="edit(item)">
                  <voxel-icon class="acordo-container__vxicon">editar_outline</voxel-icon>
                </voxel-link>
                /
                <voxel-link (click)="remove(item)">
                  <voxel-icon class="acordo-container__vxicon">excluir_outline</voxel-icon>
                </voxel-link>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
